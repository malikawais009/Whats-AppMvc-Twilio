@using WhatsAppMvcComplete.Data
@inject AppDbContext db

<!DOCTYPE html>
<html>
<head>
    <title>WhatsApp Dashboard</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet" />
</head>
<body>

    <div class="container-fluid">
        <div class="row vh-100">

            <!-- LEFT SIDEBAR -->
            <div class="col-3 border-end p-3 bg-light">
                @await Html.PartialAsync(
                                "_ConversationList",
                                db.Conversations
                                .OrderByDescending(c => c.LastMessageAt)
                                .ToList()
                                )
            </div>

            <!-- RIGHT CHAT PANEL -->
            <div class="col-9 p-4">
                @RenderBody()
            </div>

        </div>
    </div>

</body>
</html>
