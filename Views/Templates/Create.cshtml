@{
    ViewData["Title"] = "Create Template";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="page-header">
    <h1>Create New Template</h1>
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/Dashboard">Dashboard</a></li>
            <li class="breadcrumb-item"><a href="/Templates">Templates</a></li>
            <li class="breadcrumb-item active">Create</li>
        </ol>
    </nav>
</div>

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <i class="bi bi-exclamation-circle me-2"></i>@TempData["Error"]
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
}

<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">Template Details</div>
            <div class="card-body">
                <form asp-action="Create" method="post">
                    <div class="mb-3">
                        <label class="form-label">Template Name</label>
                        <input type="text" name="name" class="form-control" required 
                               placeholder="e.g., welcome_message, order_confirmation">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Template Text</label>
                        <textarea name="templateText" class="form-control" rows="6" required
                                  placeholder="Enter your template. Use {{parameter_name}} for placeholders."></textarea>
                        <small class="text-muted">
                            Use {{param_name}} syntax for dynamic parameters.<br>
                            Example: "Hello {{name}}, your order {{order_id}} has been confirmed."
                        </small>
                    </div>

                    <div class="d-flex gap-2">
                        <button type="submit" class="btn btn-primary">Create Template</button>
                        <a asp-action="Index" class="btn btn-secondary">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card">
            <div class="card-header">Template Guidelines</div>
            <div class="card-body">
                <h5>Best Practices</h5>
                <ul>
                    <li>Use clear, descriptive names</li>
                    <li>Keep templates concise</li>
                    <li>Use {{brackets}} for parameters</li>
                    <li>Templates must be approved before use</li>
                    <li>WhatsApp templates are reviewed by Meta</li>
                </ul>
                <hr>
                <h5>WhatsApp Requirements</h5>
                <ul>
                    <li>Must follow Meta's template guidelines</li>
                    <li>No promotional content without permission</li>
                    <li>Must include opt-out option</li>
                    <li>Response time: 24-48 hours</li>
                </ul>
            </div>
        </div>
    </div>
</div>
